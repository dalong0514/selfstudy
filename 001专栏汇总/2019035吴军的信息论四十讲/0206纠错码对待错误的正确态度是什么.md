# 0206. 纠错码：对待错误的正确态度是什么？

吴军·信息论 40 讲

2019-06-19

进入课程 >

24｜纠错码：对待错误的正确态度是什么？

11:04 10.14 MB

转述：宝木

你好，欢迎来到我的《信息论 40 讲》。

我们前面讲到，信息在传输的过程中难免发生错误。比如说你的电脑正在通过网络线传输信息，有一个地方接触不良，产生了一个小的脉冲电压，0 被传输成了 1。4 和 10 说不清。在英语里，14，fourteen 和 40，forty 在电话里也是经常混淆的。

机器和我们人一样，也会出错，只不过它的出错率会低一点。但是由于机器处理和传输数据的总量非常大，绝对的出错数量还是非常多的。

因此，对于必然发生的错误我们该如何面对呢？这是我这一讲想告诉你的方法论。

如果我们采用正向思维，就会把工作做得更细致一点，试图不出现错误来解决问题。比如多检查检查线路，通信线路屏蔽做得好一点；在通信时说话慢一点，发音标准一点。

这样的努力不能说没有用，但一来使得成本剧增，二来依然有一些问题无法解决，因为出错是人的天性，而干扰无处不在。对大部分人来讲，就是花上三倍的时间，也未必能够做到绝对准确的要求，总不能不让那些人通信吧。

此外，很多随机事件我们并不知道它们什么时候发生，像太阳的活动其实是极不稳定的，太阳黑子略微的变化，就能够干扰我们的无线通信。我们能够管得了飞机起降期间不用手机，但是管不了太阳。

因此，从根本上解决传输过程中信息错误的办法，就是在信息传输编码时，考虑到错误必然存在，然后通过巧妙的编码解决那些问题。这就是在信息传输中的逆向思维。具体到通信中，就是通过巧妙的信道编码保证有了错误能够自动纠错。

信息纠错的前提是要有信息冗余。如果一条信息已经被压缩得一点冗余都没有了，它容错的能力就是零，更不要谈纠错的可能性了。

比如说别人给你一个网址，不小心写错了一个字母，你拿到后发现打不开，然后再仔细看一遍网址，根据单词的意思大概猜一猜可能出的错误，可能就打开了网页。但是，如果给你一个没什么意义的短网址，比如 xAy32Dz，错一个字符就一点办法都没有了。

一个最简单的信息纠错的方式就是重复传输的信息。也就是我们说的「重要的事情说三遍」。

比如我们要传一个八位的二进制数 10011101，中间任何一位都可能出错。假如每一位正确传输的可能性是 99%，出错的可能性是 1%。这 1% 的出错率看似很小，但是累计起来就不小，对于这个二进制数，全部八位传输都没有错的概率只剩下 92.2% 了，也就是说出错的可能性是 7.8%。

如果你用移动支付付款，每一百次有 7.8 次出错，还是很可怕的。那么怎么办？最简单的方法就是传三遍，这样一来，你传输的可靠性就从 92.2%，上升到 99.99%。当然，其代价是使用了三倍的信息冗余，显然编码的效率不是很高。

那么能否提高编码的效率的同时，提高信息传输的准确率呢？答案是肯定的。我们先从一个古老的故事，看看如何检验信息传输正确与否。

古代犹太人一直是靠手抄《圣经》将它代代相传的，今天你去以色列，依然能买到很多手抄的《圣经》。抄写的过程是一个信息传播的过程，因此错误便在所难免。

虽然说犹太人做事很认真，而且在抄写《圣经》时，要虔诚并且打起十二分精神，尤其是每写到「上帝」（God 和 Lord）这个词时要去洗手祈祷，但是抄写错误还是难以避免。

于是犹太人发明了一种有效发现抄写错误的方法，他们把每一个希伯来字母对应于一个数字，这样每行文字加起来便得到一个特殊的数字，同样，对于每一列也是这样处理。

当犹太学者抄完一页《圣经》时，他们需要把每行每列的文字加起来，看看新的校验码是否和原文的相同。如果中间有一个词抄错了，比如在第五行、第六个词，那么第五行和第六列的校验码就和原文中的不同了，于是就可以定位错误发生的位置，然后进行修改。

今天计算机里最简单的信息校验使用的就是上述原理。我们还是以上面的二进制 10011101 为例来说明。

在这个二进制序列中，任何一个 0 或者 1 发生了传输错误，我们都无法判断是否有错误发生。但是，如果我们将它从 8 位二进制扩展到 9 位，第 9 位就是所谓的奇偶校验位，记录这个八进制到底是奇数个 1 还是偶数个 1。如果在传输时，错了一位，1 的数量就对不上了，这样我们就知道出了传输的错误。这就是奇偶校验的原理。

在上述方法中，如果错了两位，那就检验不出来了，但是这一种情况不多见。90% 几的传输错误是能够发现的，不能发现的错误不到 10%。

接下来我们从信息冗余的角度对它作一个分析，它其实多用了 1 个比特的信息，也就是 1/8 的信息冗余，这样信息编码的长度就略有增加。

当然，这种方法只能发现错误，不能纠正错误，因为错误可能出现在任何一位上。那么我们能否通过巧妙的编码纠正错误呢？答案也是肯定的。

我们需要想个办法，如果发现传输出错时，能够确定出错的位置，那么我们就可以纠正错误了。我们回顾一下古代犹太人在抄书时定位错误的方法，他们采用横竖两个维度交叉实现。

1940 年，贝尔实验室的科学家海明（Hamming，也被翻译成汉明）设计了一种原理和上述方法类似的纠错的编码方式。

他将一个很多位的二进制数投射到几个维度，然后在每一个维度进行奇偶校验，如果有错，就可以定位出错位置。这种编码后来被命名为海明码，它在今天计算机中被广泛使用。

海明码要增加编码的冗余信息，如果纠正一个 8 位 2 进制中的 1 位错误，就需要增加 5 个校验位，这就是成本。这比简单将信息传输三遍已经有效得多了。事实上，海明码的纠错效率接近了信息论给出的最优值。

今天依然有一些科学家在研究纠错编码，其数学基础主要是数论和近世代数。从这里面我们可以看出数学和信息科学之间的关系。

如果我们再换一个角度来看信息纠错的问题，合理的编码如果太密集，就不容易纠错，如果让合理的编码距离拉大，就容易发现错误。

我们不妨看这样一个例子。假如 0—999 这 1000 个数字，每一个都被认为是正确编码，正确编码之间的间隔只有 1，比如 87 和 86 是正确编码，它们的差距就是 1。这样稍微错一点就出错了。

如果我们要求正确的编码必须是个、十、百三位数都一样，那么 0—999 只有 10 个正确的编码，即 000、111，一直到 999。这时正确编码之间的距离至少为 111，距离很大，就不容易出错。

如果我们不断增加合法编码之间的距离，我们的传输就变得越来越可靠，但是这样就要浪费很多信息。因此，有效的纠错编码实际上是在平衡编码的效率和纠错的可靠性。在这方面，最极端的情况可能是我们自身 DNA 的编码了。

在上个世纪 80 年代之前，研究基因遗传的科学家和研究信息的科学家鲜有交集，因此前者发现 DNA 中很多碱基似乎毫无用处，因为它们根本不和任何功能对应。

今天你依然能读到这样的观点，主要是采用了几十年前的说法。但是后来随着人们对 DNA 的进一步了解，认识到两件事：

一些原本不知道对应什么功能的碱基，现在找到了它们的功能。

那些多余的 DNA 并非真的没有用，而是对于防止基因之间在复制的时候因为一个错误而引起一连串的错误很有帮助，你可以认为它们是基因之间的防火墙。甚至有人认为它们可能起到了纠错的功能。事实上，人的基因也是通过信息冗余起到了容错和纠错的效果。

要点总结

不要高估自己的仔细，以及自己通过努力做到最仔细后，能够达到的效果。不确定性是我们这个世界自然的属性。因此，在解决任何问题之前，都要考虑到世界的不完美和不确定性。这就是所谓的预则立，不预则废。

在信息的传输过程中总是不免要发生错误的，要想避免出错，就要增加一点信息冗余。增加的信息冗余越多，检验甚至纠正错误的能力就越强。当然，并非简单增加冗余就能查错纠错，人的水平的高低，就在于是否有效利用资源解决了更多的问题。上帝给每一个人一天 24 小时，谁也不会多，谁也不会少，只是有些人利用得比其他人更好罢了。

有一些自然存在的，看似没用的信息，先不要下结论说它们没有用，在了解清楚之后，你可能会惊叹于大自然的美妙之处。

思考题：如何利用纠错的原理增强我们交流的准确性？

预告：第二模块的这几讲，我们都是在围绕信息传输中可能遇到的麻烦，比如噪音大、信道窄、传输错误等等来教你破解之道的，下一讲，我们再说一个传输中可能遇到的难题，就是加密。我们下一讲再见。

