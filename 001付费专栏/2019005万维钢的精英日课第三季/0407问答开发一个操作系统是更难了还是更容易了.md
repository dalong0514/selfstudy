# 0407. 问答：开发一个操作系统，是更难了还是更容易了？
> 万维钢·精英日课³
2019-05-25

## 来自日课：工程的复杂

读者 千秋雪:

万老师，你觉得现在这个时代相比八九十年代，开发一个操作系统是更难还是更容易了？

读者 李琼：

我觉得，无论面对什么样的压力，试图重新种一棵同类型的树都不是明智的。不顾一切倾尽全力的去种这么一棵树则是危险的。我们要做的是，在别处栽下一棵新品种的小树苗，多少年后，它会硕果累累。而我怀疑的是，美国精英们可能正在偷偷的种树，而我们的精英们则在重新发明系统和芯片。然后又是一个关于弯道超车对抗弯道摆脱的轮回。我这样是多虑了吗？

万维钢：

另立门户、完全自主地开发一个新的操作系统是更难了，因为现代计算机比那时候要复杂得多。但是从一个现有的、开源的操作系统出发，定制一个属于自己的操作系统，则是比较容易的。而不管怎么开发，跟开发相比，要让别人愿意用你新开发的这个操作系统，却是非常非常的难。

操作系统是个底层的东西，必须有很多人用，以至于各个软件公司愿意给这个操作系统开发软件，它才有生命。这就好比说本来大家都说英语和中文，你新发明了一个语言，叫「世界语」 —— 可以是可以，但哪怕你这个语言再科学再完美，别人已经在说英语和中文了，为啥要新学一门不是任何人的母语的语言呢？世界语曾经被人大力推广过，现在已经死了。

八十年代之前，最正宗的操作系统是 UNIX，它的直系子孙就是现在的 Linux，它的旁系子孙就是现在苹果的 Mac。那 Windows 是从哪来的呢？

1980 年，IBM 公司推出一款个人电脑，价格便宜可以用于家庭，但是它没有操作系统。IBM 不屑于自己开发一个操作系统，搞 UNIX 的公司也没在意专门给个人电脑开发一个版本。这就给了一家叫做「微软」的小公司机会。微软从别人那里收购了一款小操作系统，叫 DOS，修改之后授权给 IBM 的个人电脑安装，但自己保留了著作权。当时个人电脑刚刚出现，但是搞个人电脑的并不是只有 IBM 一家。别家再搞个人电脑，也有操作系统的需求，正好微软有现成的，就直接授权安装。

也就是说，微软的操作系统是跟着个人电脑这个新事物一起兴起的，后来 DOS 变成了图形界面的 Windows。事实上在整个八十年代到九十年代，微软的操作系统都是被专业人士嘲笑的对象。跟 UNIX 相比，DOS 性能差、安全低、结构不合理，简直就是个对付出来的东西。可是不管你喜不喜欢，个人电脑上装的都是它。那么这时候如果有哪个公司要开发专门面向个人用户的软件，比如游戏之类，就必须是在微软的平台之下。

微软既不是美国政府搞「美国制造」计划扶植起来的，也不是大公司垄断的产物，也不是美国人民用爱国主义捧起来的。微软是在个人电脑刚刚出现，人们还没有意识到这个东西将会迅速流行，大公司还看不起这个小市场，谁也没想到给个人电脑做操作系统将会比给传统计算机开发软件更赚钱的时候，偶然产生的。我估计比尔盖茨那时候也绝想不到他的公司将来会那么有钱。

而 UNIX 的直系子孙 Linux，现在反而成了非主流，市场占有率不到 1%，对大多数家庭用软件来说，根本不值得专门为它发布一个版本。现在我们回想起来，说「啊，个人电脑是最大市场！啊，要有自己的生态！」 —— 当初人们可没想到。

那难道微软就从此一统天下了吗？也不是。智能手机就是一个出新操作系统的机遇。本来苹果手机的系统最好，但苹果搞封闭，想用它的操作系统只能买它的手机，这就给了别的操作系统机会。最初智能手机领域有好几个操作系统，比如有黑莓和 PALM，也都是自家的系统自家用。这时候 Google 推出开源的安卓系统，允许其他手机制造商使用，于是安卓胜出。

也就是说，要想在天下占有一席之地，你的机会在于新生事物刚出来，群雄并起的混乱时期。在这个时期说我要种树搞生态那是战略，过了这个时期那就只不过是感叹而已。我们要问种什么树，首先得看看新兴的领域在哪里。也许基于大数据的人工智能技术是个机遇，现在各个公司都在积累数据。也许 5G 也是个机遇。

现在美国封锁华为，的确是华为搞自己的操作系统的机会。但是搞好一个操作系统容易，让别人愿意用难。我们无法想象中国为了扶植本国的操作系统而封锁安卓和苹果，那将是拿国民经济为操作系统服务，而不是让操作系统为国民经济服务。更何况华为的市场在全世界，它也不希望各国各自搞封闭的系统。所以中国并没有封锁美国的操作系统，消费者不一定非得用华为。正如任正非所说，手机只是一个产品，我们不应该为了爱国而买手机。

那华为的机会在哪呢？我认为最理想的局面是出现下面这三个条件 ——

1. 华为统治了 5G 领域；

2. 5G 领域有一些人人非用不可的杀手级应用；

3. 华为手机是最好的、甚至是唯一的 5G 手机。

而目前看来，只有第一个条件最可能实现，所以我感到很困难。我认为最大的可能性是华为搞一个完全兼容安卓的系统。

读者 太西瓜西太：

万老师，2006 年的熊猫烧香病毒，2007 年的 U 盘自动运行病毒等等。感觉 10 年前网络上病毒种类复杂，数量多，更新频率快，以至于「江民，瑞星，卡巴斯基」这类杀毒软件可以有市场。但最近 10 年，杀毒软件都被迫免费，而且网络上病毒除了 2018 年的比特币勒索病毒之外似乎安全了很多。请问是因为软件公司采用 DRUSS 原则吗？亦或是其他原因呢？

万维钢：

这是一个非常好的观察。是的，现在计算机病毒没有以前那么猖獗了，而这的确是因为软件公司更加注重安全了。

主要的改变在于操作系统和浏览器现在都内置了安全功能。比如 Chrome 浏览器，它自己就能判断哪些站点是不安全的。如果有什么来历不明的东西想要安装，浏览器自己就能探测到。如果有一个网站被发现有恶意程序，Chrome 会自动对所有的用户屏蔽这个网站，这种情况下想要传播病毒就很难了。

我理解以前的杀毒软件本质上是黑名单制度，是先知道有哪些病毒，列入黑名单，然后排杀。而现在则具有一定的自动探测能力，凡是说不清楚的操作一律禁止。同时像苹果应用商店，更是白名单制度，只有被认可安全可靠的应用才能上架。

由此可见，互联网的野蛮时代已经结束了。如果你要做一个公共网站，给很多人提供服务，你就得让人知道你是谁。现在我们日常访问使用的都是一些成熟的网站和应用，连盗版和色情内容网站都是几家独大，谁想弄个独立网站传播病毒没啥机会。

## 来自日课：设计的境界

读者 黑洞：

可以讲讲 Linux 的「道」是什么么？想知道为什么一个应用软件严重缺乏的系统那么受欢迎……为什么一个本来是被开发来玩的系统，走的那么远……

万维钢：

Linux 的缘起是个很随意的项目，但是自从加入自由软件社区之后，它就不再是一个「玩」的操作系统了，它成了 UNIX 的直系传人，可以说它才是 THE 操作系统。

Windows 的本质是一个为个人电脑而生的，简易的、对付出来的操作系统，只适合打游戏，不适合工作。用 Linux 才是真正在「操作」电脑，Shell 命令行是一个丰富的编程环境，提供了各种精妙的小工具，你直接命令计算机去做什么，而不是拿个鼠标在那笨拙地点来点去。Linux 是直接向厨子定制你想吃的内容，Windows 只能让你从菜单里点几个标准化的成品。

Linux 的目录结构和文件系统更符合逻辑，权限非常清楚，多用户管理无比和谐，而不是像 Windows 弄什么 c 盘 d 盘 e 盘……

Linux 能让电脑发挥最大的效能。同样一个数值计算软件，放在 Linux 上它可以轻松调用几乎全部的计算力；放在 Windows 上就不行了 —— 因为 Windows 自己什么都不干的时候也要消耗很多计算力。一台老计算机，装上 Linux 就能焕发青春；一台新计算机，装上 Windows 就会臃肿而心事重重。Linux 不死机不蓝屏，Linux 没病毒。

那这是为啥呢？因为 Linux 是个自由的、干净的、开源的、可控的、品质高尚的系统，而 Windows 则是贪婪、专制和愚蠢的产物。

而且 Linux 免费！当然，因为 Linux 更尊重计算机和用户，它有点曲高和寡，不适合普通老百姓，以至于很多商业软件、特别是游戏没有Linux 版。如果资金比较充裕，Mac 是个折中的选择。

## 来自日课：方程的模拟

读者 一RU既往_xiao：

我想起《流浪地球》的一个情节，救援队想出点燃木星的计划，但是 moss 说这个计划科学家已经计算机模拟过，成功率几乎为零！然而人类还是选择了奇迹！那么既然计算机模拟这个好用，我们以后会成为算法的奴隶还是非理性地选择相信奇迹呢？

万维钢：

作为一个曾经的从业者，我认为计算机模拟只是一个辅助性的工具。在核武器和飞机空气动力学领域它可能比较可靠，但是至少在我以前做的受控核聚变领域，计算机模拟能做的还很有限。这里面关键是个尺度问题。

对大尺度现象，我们可以使用磁流体力学之类大尺度的模型；对小尺度现象，我们必须使用动力学之类小尺度的模型。但是有些物理现象是小尺度和大尺度一起起作用，这就很不好办了。都用大尺度模型，你看不到这个现象；都用小尺度模型，你计算能力有限模拟不了那么大的区域。这种多尺度问题非常难办。

当然，纯理论更不行。在核聚变这个领域，是实验说了算的。总是实验发现了意想不到的现象，我们跟着过去看看能不能模拟。我们的作用在于用模拟提供一点理解。

