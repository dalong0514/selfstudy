# 0103. 有效编码：10个手指能表示多少个数字？
> 吴军·信息论40讲
2019-06-01

我们上一讲讲了信息编码最简单的原理，今天谈谈如何设计一个好的编码系统，以及其背后的本质。这些原理，也可以用于提高我们日常的有效沟通。

我们上一讲提到，各种编码系统本身在信息论上是等价的，但是，不同的编码系统可以有好有坏。比如今天使用的阿拉伯数字（其实是印度人发明的）0～9 就是一个很好的编码系统，对于描述数字信息来讲，它们的数量不多不少，形状差异大。

如果采用一个小圆点「∙」代表一，两个「∙∙」代表二，三个「∙∙∙」代表三，十个「∙∙∙∙∙∙∙∙∙∙」代表十，就不太好，因为大家容易看花眼。因此好的编码第一个特点就是要便于区分不同的信息。

我国在文革后曾经推行过一版过于简单的简化字，但是很快就停止使用了，这里面主要的原因是将汉字的笔画简化得过少后，使得近形字大量出现，不易辨识，非常容易搞混，因此很快就废止了，从信息论上讲，它违反了好编码要便于信息辨识的原则。

上述原则在平时的表达和沟通中也很重要。比如说，德国著名的营销专家和演说家多米尼克∙穆特勒提出的清晰表达的五个原则：明确、诚实、勇气、责任和同理心，前四条就和信息编码要便于识别有关。

第一个原则：「明确」，这就不用说了，它是沟通的核心。只有意思表达得明确，才能保证对方不误解。

很多专业文件都写得像八股文，无论是病例，律师写的法律文件，或者科学杂志上的论文，都是如此，其最根本的目的就是要确保意思表达无误，在同行中不会产生任何误解。

至于其他的三条原则「诚实、勇气、责任」，也是辅助将想法明确表达出来的。「诚实」是能够明确表述的基础，因为口是心非，难免会语焉不详。而「勇气」则代表对一件事的态度确定，因为只有内心非常确定，表达才能明确。至于「责任」，说的是代表对一件事要有所谓，如果对一件事持无所谓态度，说出来的话就一天一个样。

这就是我想告诉你的第一个知识点，也就是信息编码的第一个基本原则：「易识别」，应用在我们个人沟通中，也是如此。

便于识别，不容易混淆只是编码的第一个基本要求。作为一种好的编码还需要做到「有效」。我们在《科技史纲60讲》中介绍了信号旗、信号臂，它们都是有效的编码，通过一些图形或者动作的组合，能表达很多信息。

在信息传播上，只有当编码有效时才能在短时间里传递大量的信息。比如我们经常在谍战片中看到通过发电报传递信息，电报的电文都非常简洁，因为发报时间不能太长，否则很容易被对方发现，这其实符合有效性的原则。那么怎样做到有效编码呢？我们先来看这样一个问题：

用十根手指头，能表达多少个数字？

很多人觉得能表达十个数字，因为我们平时数数就是这么数的。也有人觉得可以表示 100 个数字，因为我们一个巴掌就能表示十个数字，将巴掌组合起来，一个表示个位，一个表示十位，就能表示从 0 到 99 共 100 个数字。这个想法非常好，能想到这层可以讲是多少体会了编码原理的精髓。

但是，这依然不是最有效的编码，如果我们考虑采用二进制，而不是十进制进行编码，则能表示 1024 个不同的数字。

具体的做法是这样的，我们把十个指头伸开：从左边的小拇指到大拇指编号为 0～4，再从右边的大拇指到小拇指，编号为 5～9。这十个指头，每一个都有伸出、收起两种状态。每一种状态对应于一位二进制，十个指头能表示 10 位 2 进制，因为 10 个指头，每个指头有两种情况，就是 2 的 10 次方，也就是 1024 种可能性。

当然你说，能不能让每个手指具有伸开、半伸开和收缩三个状态，表示 59049，也就是 3 的 10 次方种种可能性呢？这种想法不能说有错，但是并不好，因为它过分强调有效性，而忽视了易辨识这个原则，凡事过犹不及。

好，这是我想说的第二个信息编码的原则：有效性。如何组合信息，保证它高效传递，还能不违背第一条「易辨识」的原则。这就需要我们主动思考了，下面我为你介绍一个现实的例子，看看能否启发你。

利用上述两个编码原则，可以有效地进行生物和 IT 产品的实验。硅谷的公司里有这样一道面试题：

有 64 瓶药，其中 63 瓶是无毒的，一瓶是有毒的。如果做实验的小白鼠喝了有毒的药，3 天后会死掉，当然喝了其它的药，包括同时喝几种就没事。现在只剩下 3 天时间，请问最少需要多少只小白鼠才能试出哪瓶药有毒？

很多人看了这个题目从直觉出发，直接答 64 只，每一只吃一种不同的药。这么做自然没有问题，但是并不有效。能不能减少老鼠数量呢？你可以暂停 10 秒，自己思考一下。

好，我要公布结果了，实际上解决这个问题只要六只小老鼠就可以了，如果你上节课认真听讲了，就知道，这是一个 64 选 1 的题目，那么需要的信息量就是 log64，也就是 6 比特。你要是想具体操作验证，方法是这样的：

![](https://raw.githubusercontent.com/dalong0514/selfstudy/master/图片链接/吴军/2019040.jpeg)

说明：将一个十进制数除以二，得到的商再除以二，以此类推，直到商等于一或零时为止，然后依照倒序取除得的余数，即换算为二进制数的结果。比如 32 除以 2，商是 16，余数是 0，然后再用商 16 除以 2，得到余数 0，以此类推，得到 6 个余数，再倒序排列，就是 100000。要点是：除二取余，倒序排列。    

我们将这些药从 0～63 按照二进制编号，获得 64 个六位数的二进制编号，也就是从 000000（六个零）到 111111（六个一），每个二进制编号的最左边是第一位，最右边是第六位。

然后选六只老鼠从左到右排开，和二进制的六位，从左到右地依次对应。文稿里的二进制编号，你可以试着一位一位竖着看，下面每只老鼠负责一位。

从左边数第一个老鼠吃对应的二进制是 1 的药，0 就不吃。那么老鼠 1 依次吃第 32，33，34，……，63 号药。第二只吃 16，17，……，31，48，49，……，63 号药，等等。最后一只老鼠吃 1，3，5，……，63 号药。你可能注意到了，6 只老鼠都吃了 63 号，那是因为 63 对应的二进制编号是 6 个 1，所以 6 只都要吃。

吃完药之后三天，某些老鼠可能死了，我们假定第 1，2，6 这三只老鼠死了，剩下的活着。这说明什么呢？说明编号 110001 号药有问题，也就是在第 1，第 2，第 6 位上分别是 3 个 1，因为这三只老鼠都吃了它，而 3，4，5 这三只没死的老鼠没有吃它（对应的位置为 0）。而 110001 对应十进制的 49，也就是说第 49 瓶药是毒药。

对于其它的组合也是同样的，你可以自己随便假定哪几只老鼠死了，看看哪瓶是毒药。当然，还有一种情况，就是所有的老鼠都没有死，那说明第 0 号药是毒药，因为其他的药都吃过了，就这一瓶没有吃。

通过上述方式，可以用 6 只小老鼠一次完成 64 选 1 的任务。怎么确定 6 只老鼠就足够了呢？结合我们前面讲到的理论，64 选 1 的任务其实只需要 log64=6，也就是 6 比特的信息就够了，每一只老鼠提供了一比特的信息。

因此，从理论上讲 6 只小老鼠就足够了，而有效的编码，其实就是完成从理论上的上限到现实中解决方案的桥梁。所以 IT 公司在招收计算机工程师中会考这道题，因为很多的 IT 问题，就是编码问题。

这是我通过一道硅谷面试题，想传达给你的第三个知识点，也就是有效编码，其实就是让理论最佳值在应用中落地。

不仅如此，有效编码的思想在今天 IT 的产品性能比对测试中有直接的用途。我们在第 3 讲讲到大数据思维，其中很重要的一条就是采用大量用户反馈信息决定产品的设计和技术方案。

比如在一个产品中，有两种可用的方案，A 和 B，哪种更好呢？

过去常常是工程师们和产品经理们拍脑袋想，有些时候某些人的「眼光」很好，正好蒙对了，选了一个用户也喜欢的方案，但是这种「眼光好」是无法复制的，一个公司将自己的商业成功寄托在「眼光好」上早晚要失败。

这时，就可以利用用户大数据评判 A、B 方案的好坏，通常的做法是随机选取 1% 的用户作对比实验。比如 Google 在改进搜索算法或者其它产品体验后，会先做这样不公开的测试，一般会持续一周左右。但是像 Google 这样有好几万工程师的大公司，每天的各种改进是很多的，如果每个项目都用掉 1% 的用户，把全部用户都用上也不够。

这就回到了我们刚才学过的高效编码问题，用少量用户同时进行很多个实验的方法，就类似上面这种让小白鼠试毒药的方法，也就是将各种不会发生冲突的实验用二进制进行编码，几组实验者，就可以同时进行几十个不同的实验。

## 要点总结

我们介绍了信息编码的两个基本原理：易辨识和有效性。

我们用实例说明了信息论原理和我们工作的关系。

我在过去的课程中介绍了不少方法，很多同学讲，吴老师，您和其他老师讲的东西我觉得都很好，但是怎么听了一年课程没有提高呢？

对此我想说的是，知识学习了之后只有真正使用了，才能变成自己的东西。信息论是不少大学里通信专业研究生的必修课，学的人很多，但是绝大部分人学了以后也就扔一边了，少数人则在工作中刻意使用它，最后就做出了很多别人没有得到的成就。因此学以致用比多学习更重要。

思考题：请在留言区与我分享你学以致用的小案例。

预告：下一讲，我们讲一个在现实生活中能够实现的，达到理论上效率极限的编码——哈夫曼编码，以及它在各个领域的应用。我们下一讲再见！

## 黑板墙

### 01

#### 总结

这一讲介绍一个好的编码系统需要遵守的原则： 易识别性和有效性。

我们先说易识别性： 比如某套编码方式中有这三种字符：

数字1

大写字母 I（H 后面的字母）

小写字母 l（k 后面的字母）

这你就很抓狂，这是违背了易识别性的反面教材。

那么有效性，怎么理解？

这个特性我们放在明天介绍哈夫曼编码时再详细。

接下来我再为大家延伸一点二进制的知识。

#### 计算机为什么使用二进制？

在上个世纪，计算机先后使用电子管、晶体管等元器件。我们知道在电路中电流的传递是有方向的──有高低电势差就形成了电信号。这个电信号的产生与否，就像是我们刚刚的指头立起还是弯曲一样，它也对应着 0 和 1 两种截然不同的状态，电子元器件收集到这些信息。 

今天这讲里的小老鼠，他们吃完药之后，最终所对应的状态只有继续活着或者死掉这两种状态，所以吴军老师的小老鼠例题也是应该去尝试用进制编码解决──让每只老鼠分别充当「一根手指头」。

我们需要至少多少根手指能表示 64 这个数， 答案我想你已经知道了： Log 64 = 6。

#### 金勇分享

在谍战电影《风声》中，扮演「老鬼」的张涵予通过唱曲儿「我本是卧龙岗散淡的人」来传递信息。 

他用的是韵律的变化给同志传递消息的， 还有《无间道》梁朝伟使用的「摩尔斯」电码。

未来我们渐渐学习更有意思的编码，请与我同行，如果你还有疑问，欢迎在这里向我发问。

### 02

这是跟随吴军老师学习的第四门课，从《硅谷来信》一路走来感觉学以致用的地方很多，在工作上有 4 个直接影响：

1、理解了对 AI 过分恐慌是没有意义的，它是我们可以借用的工具，而非魔鬼。这一条直接影响了我们团队的战略。

2、对边界的理解，这对于个人和团队的成长、项目设计都很有帮助。

3、粗调和精调让做事情更有章法，减少了资源浪费。

4、个人和组织的进步都需要注重「可叠加」。

另外，在生活上和育儿上也有很多地方不自觉的使用了学到的知识：

1、影响最大是「上帝喜欢笨人」，做事情要专一，并把这个故事讲给孩子，也影响了他。

2、通识教育特别重要，自己在补足这一短板，也在孩子成长中施加这方面的影响。

3、理解城市的发展与个人的发展，对于投资组合有影响。

我感觉学习是让自己的思想逐渐更新的过程，这个过程潜移默化地发生，从较长时间上就能看出其影响力，所以不用灰心和质疑，只需要坚持。

通过今天的学习收获有二：

1、从小白鼠试药的例子，我认为是昨天编码问题的「逆运算」，也就是有了样本总量，然后看看如何有效编码，获得有效信息。

「逆运算」有时也用于增加冗余或干扰信息来防止别人获得信息，记得密码学故事中，不少加密方法都是增加编码的复杂度，还有些加密方法是在编码中加入大量无用信息对有用信息进行「掩护」。

2、学习统计学知识时，我学到了如何验证样本的代表性，而通过本节内容，我了解到从提高样本的使用效率能够让样本发挥更大作用。两者结合起来，对于以后做各种小样本测试我就有了更多的思考维度。

### 03

以学习金融学和投资为例，谈谈我的学以致用。

「听过了很多大道理，依然过不好这一生」想必大家对这句话都不陌生。所以，我在学习金融学的初心就是很「功利」的，通过学习一定要有实实在在的收益。简述四个最重要的输出：

第一、均衡配置资产。学习了金融三大定律：时间价值、资金集聚和风险共担。然后开始把自己现有资产配置情况重新梳理了一遍，结合一些延伸阅读的知识，把理财产品、债券、股票、保险等产品的比例进行了调整，目前收益明显高于之前。

第二、更换了个人业务银行。根据银行模块的知识，果断把个人业务从原来的「宇宙第一大行」转到了「中产阶级」招行，以金葵花服务为例，享受到了真正的贵宾待遇。

第三、进行了新的投资。其实就是根据学习的货币基金和指数基金知识，精心选择了两只产品，采用定投的方式进行购买，一段时间以来，从收益率来看比之前凭感觉买的理财产品都好。

第四、参与公司上市。朋友的公司正在谋求创业板上市，与大小五六家投行谈合作事宜，自己全程参与，结合所学的投行知识，对他们的很多说辞以及举动结合所学体会比较深刻。
